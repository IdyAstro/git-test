{% extends "base.html" %}

{% block content %}
<div class="p-8 max-w-3xl mx-auto">
  <!-- Titre -->
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-3xl font-bold text-[#004F9F] flex items-center gap-2">
      üìù ENREGISTRER UN EQUIPEMENT
    </h2>
  </div>

  <!-- Messages Django -->
  {% if messages %}
      <div class="mb-6 space-y-2">
          {% for message in messages %}
              <div class="
                  px-4 py-3 rounded-lg text-sm font-medium shadow-md animate-fade-in
                  {% if message.tags == 'error' %}
                      bg-red-50 text-red-800 border border-red-300
                  {% elif message.tags == 'success' %}
                      bg-green-50 text-green-800 border border-green-300
                  {% elif message.tags == 'warning' %}
                      bg-yellow-50 text-yellow-800 border border-yellow-300
                  {% else %}
                      bg-blue-50 text-blue-800 border border-blue-300
                  {% endif %}
              ">
                  {{ message }}
              </div>
          {% endfor %}
      </div>
  {% endif %}

  <!-- Formulaire -->
  <form method="post" class="space-y-6 bg-white p-8 rounded-2xl shadow-xl border border-gray-100">
    {% csrf_token %}

    {% for field in form %}
      <div>
        <label for="{{ field.id_for_label }}" class="block text-gray-800 font-semibold mb-2">
          {{ field.label }}
        </label>
        {{ field }}
        {% if field.errors %}
          <p class="text-red-600 text-sm mt-1 italic">{{ field.errors|striptags }}</p>
        {% endif %}
      </div>
    {% endfor %}

    <!-- Boutons -->
    <div class="flex justify-end gap-4 pt-4 border-t">
      <a href="{% url 'materiel_list' %}" 
         class="px-5 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl shadow-sm transition flex items-center gap-2">
        ‚¨Ö Retour
      </a>
      <button type="submit" 
              class="bg-gradient-to-r from-[#F58220] to-orange-600 hover:opacity-90 text-white px-6 py-2.5 rounded-xl shadow-lg transition flex items-center gap-2">
        ‚úÖ Ajouter
      </button>
    </div>
  </form>
</div>

<!-- Style pour uniformiser les inputs -->
<style>
  input, select, textarea {
    @apply border border-gray-300 rounded-lg px-4 py-2 w-full 
           focus:ring-2 focus:ring-[#004F9F] focus:border-[#004F9F] 
           shadow-sm transition;
  }

  /* Petite animation pour les messages */
  .animate-fade-in {
    animation: fadeIn 0.4s ease-in-out;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
{% endblock %}
